<!DOCTYPE html>
<html>	
	
	<head>
		
		<title>
			Alligators May Be Better
		</title>
		
		<link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>
		<link rel="icon" href="http://s13.postimg.org/hh402rbxf/Crocodile_32.jpg">
        <link rel="stylesheet" type="text/css" href="style.css">
        <link href='https://fonts.googleapis.com/css?family=Sigmar+One' rel='stylesheet' type='text/css'>
        <script src="jquery.js"></script>
        
     </head>
 
    <body>
        
        <header>
            <h1 id = "HeadTitle">Literate Crocodile</h1> <img id = "HeadCroc" src="http://www.clker.com/cliparts/4/6/a/b/13177591361525636745Grinning%20Alligator.svg.hi.png">
        </header>
        <h2>This is the game page, the page for the game</h2><h2 id="currPrompt">Prompt!</h2>
        <button class="startTimer">START TIMER</button>
        <h4 class="timer"></h4>
        <div class="column" id="output">Your story will appear here!</div> <textarea class="column" id="input">HERES THE RIGHT</textarea>
        
        <script>
        $('#currPrompt').hide();
        
        var verbs = ["chomp", "dine", "graze", "guzzle", "munch", "slurp", "ask", "beg", "plead", "question", "hiss", "snuffle", 
        "squeal", "yell", "gasp", "huff", "sigh", "snap", "whisper", "bellow", "croak", "cry", "howl", "roar", "scream", "shout", "shriek", "boast",
        "command", "instruct", "reply", "teach", "build", "craft", 	"create", "brew", "mix", "gel", "liquefy", "dig", "burrow",	"sink",	"climb", "mount",	
        "scale", "crumple", "crush", "wreck", "close", "shut", "slam", "excite", "calm", "lull", "soothe", "enjoy", "hope",	"imagine", "listen", "aid",	"cherish", "prize",	"treasure", "adore",
        "gaze",	"look",	"peek",	"peer",	"exit",	"leave", "halt", "quit", "chase", "follow", "obey", "pursue",
        "float", "glide", "soar", "flow", "ooze", "race", "roll", "slide", "speed"];

        var nouns = ["zebra","zephyr", "magicians", "cats", "owls", "batman", "rice","war","wave","wax","wealth","weather","wheel","whip","whistle","wilderness","wind","wing","winter","wire","wood","wool","worm","wound","wren","wrench","wrist","vase","veil","vein","verse","vessel","vest","volcano","volleyball","voyage","quartz","queen","quicksand","quill","quilt","quiver","ice","icicle","ink","instrument","invention","island","jail","jellyfish","jewel","antithesis","conundrum","chemist", "crocodile"];

        var settings = ["Golden Gate Bridge", "Dark Alleyway", "Alligator Farm", "Picaso's Art Studio", "Lunar Colony", "Car Junkyard", "Scientific Lab", "Aquarium", "Barber Shop", "Baseball Stadium", "Basement", "Beauty Salon", "Tropical Beach", "Minotaur's Lair", "Vampire Crypt", "Graveyard", "Half Price Bookstore", "Mountaintop Temple", "Log Cabin", "Bat Cave", "Flying Castle", "Casino", "Roadside Motel", "Circus", "Dumpster", "French Cafe", "Spa", "Vineyard", "College Dorm", "Hundred Story Skyscraper", "Olympic Stadium", "Pool Toy Factory", "Route 66", "Theme Park", "Insect Zoo", "Petting Zoo", "Toy Store", "Remote Lighthouse", "Jazz Club", "Two-man Canoe", "Airship", "Pirate Ship", "Movie Theater", "Pet Grooming Salon", "Ice Age", "Gym", "Diamond Mine", 
        "Giant Spider Web", "The Pyramids", "Trans-Continental Railroad", "Tree House", "Cruise Ship", "Alcatraz", "Pompeii", "Coral Reef", "Sahara Desert", "Mount Everest", "Underwater Cave", "The White House"];

        var ads = ["trustworthy", "loyal", "helpful", "friendly", "courteous", "kind", "obedient", "cheerful", "thrifty", "brave", "clean", "reverent", "haggard", "ruthlessly", "unending", "torrential", "comfortable", "nimble", "sloppily", "taciturn", "apocalyptic", "resigned", "patiently", "double", "protective", "hopeful", "sappy", "matronly", "vampiric", "justified", "memorable", "ironic", "spiderlike", "cunning", "devious", "misled", "societal", "brainwashed", "obedient", "dexterous", "robotic", "unpleasant", "addled", "peaceful", "capricious", "terminally", "surprising", "indigo", "aquatic", "royal", "uptight", "incompetent", "nurturing", "fated", "watchful", "pale", "ashen", "flushed"];

        // good here
        // strings that will store the words for the Master Prompt
        var masterNoun = "";
        var masterVerb = "";
        var masterSetting = "";
        // good here
        // organizes the part of speech arrays into a nice little data structure :)
        var arrayDict = {0 : nouns, 1 : verbs, 2 : ads, 3 : settings};
        

        var chooseMasterPrompt = function()
        {
            // used to choose the master prompt at the beginning of the game
            var masterNoun =  nouns[ Math.floor(Math.random() * nouns.length) ];
            var masterVerb =  verbs[ Math.floor(Math.random() * verbs.length) ];
            var masterSetting =  settings[ Math.floor(Math.random() * settings.length) ];
            var masterPrompt = masterNoun + ", " + masterVerb + ", " + masterSetting;
            $('#currPrompt').html(masterPrompt);
        };
        
        var allPrompts = [];
        var allPromptsString = "";
        var chooseSubPrompt = function()
        {
            
            // used to choose the subprompt that will appear every 30 seconds or so
            var POS = Math.floor(Math.random() * 3 ) //picks part of speech of subprompt
            var newPrompt = arrayDict[POS][Math.floor(Math.random() * arrayDict[POS].length)] //picks the word within the part of speech's array
            allPrompts.push(newPrompt);
            if(allPromptsString.length == 0){
                allPromptsString = newPrompt;
            }
            else{
                allPromptsString = allPromptsString + ", " + newPrompt;
            }
            $('#currPrompt').html(allPromptsString);
        };
        
        var wordsPresent = function() //the input will be the string representing the entire story inputted the lefthand column
        {
            var finalPrompts = allPrompts;
            $('.timer').hide();
            // Takes in whole story and all prompts and returns number of prompts used
            var counter = 0;
            var lenPrompts = finalPrompts.length;
            for (i = 0; i <= lenPrompts; i++) { 
                //finds index of prompt in story
                var check = story.indexOf(allPrompts[i])
                // if prompt was used in story, counter increments
                if (check >= 0) {
                    counter++
                }
            }
            var evaluation = "";
            
            if (counter == 0){
                evaluation = "You failed because you didn't use any of the prompts. Sorry!";
            }
            else if (counter == 1){
                evaluation = "You used one prompt out of " + lenPrompts + " prompts. Nice Try!";
            }
            else{
                evaluation = "You used " + counter + "prompts out of " + lenPrompts + " prompts. Good job!";
            }
            $('#input').val(evaluation);
            
        };
       
          
            // Makes input blank on click
            $('#input').focus(
				function(){
					$(this).val('');
			});
            
            // Makes columns initially hidden
            $('.column').hide();
            
            var totalSeconds = 0;
            var totalMinutes = 0;
            var currentTime = String;
            var addSecond = function() {
                //Updates minutes and seconds
                // < 59 because the execute MAKES IT 59 seconds
                if(totalSeconds<59) {
                    totalSeconds++;
                }
                // This should happen when there's 59 seconds on the clock
                else {
                    totalSeconds = 0;
                    totalMinutes++;
                }
                // Makes it X:XX format
                if(totalSeconds<10){
                    var currentTime = totalMinutes.toString() + ":0" + totalSeconds.toString();
                }
                else{
                    var currentTime = totalMinutes.toString() + ":" + totalSeconds.toString();
                }
                $('.timer').html(currentTime);
            }
            
            $('.startTimer').click(function() {
                $('.startTimer').hide();
                $('.column').show();
                $('#currPrompt').show();
                $('.timer').show();
                chooseMasterPrompt();
				setInterval(addSecond, 1000);
               setInterval(chooseSubPrompt, 15000);
                setInterval(wordsPresent, 180000);
			});
            
            // This string holds the story
            var story = "";
            $(document).keypress(function(e) {
                
			if(e.which == 13) {
                //alert("BUTTS");
				story = story + document.getElementById("input").value+" ";
                if(story!=" " && story!="  "){
                    $('#output').html(story);
				}
                else{
                    alert("Please type your sentence in the right field!");
                }
                $('#input').val('');
            
            }
			});
        </script>
    </body>
</html>

